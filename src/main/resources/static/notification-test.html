<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì›¹ì†Œì¼“ ì•Œë¦¼ í…ŒìŠ¤íŠ¸</title>
    <style>
        #messageList {
            list-style: none;
            padding: 0;
        }

        #messageList li {
            margin: 0.5rem 0;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
    </style>
</head>
<body>
<h1>ì‹¤ì‹œê°„ ì•Œë¦¼ ë©”ì‹œì§€ ìˆ˜ì‹  í…ŒìŠ¤íŠ¸</h1>
<div id="notification"></div>
<script>
    const userId = 1;
    const socket = new WebSocket("ws://localhost:8080/ws/notifications?userId=" + userId);

    socket.onopen = function () {
        console.log("âœ… ì›¹ì†Œì¼“ ì—°ê²° ì„±ê³µ");
    };

    socket.onmessage = function (event) {
        console.log("ğŸ“© ì„œë²„ë¡œë¶€í„° ë©”ì‹œì§€ ìˆ˜ì‹ :", event.data);

        // ë©”ì‹œì§€ë¥¼ í™”ë©´ì— í‘œì‹œ
        const notificationBox = document.getElementById("notification");
        const newMessage = document.createElement("div");
        newMessage.textContent = event.data;
        notificationBox.appendChild(newMessage);
    };

    socket.onclose = function () {
        console.log("ğŸ”Œ ì—°ê²° ì¢…ë£Œ");
    };
</script>
</body>
</html>